{"ast":null,"code":"import _regeneratorRuntime from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shimaa/My-Reads/src/App.js\";\nimport React from 'react';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport BookShelf from \"./BookShelf\";\nimport Search from './Search.js';\nimport { Link } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\n\nvar BooksApp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  function BooksApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BooksApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.shelfs = [{\n      key: 'currentlyReading',\n      name: 'Currently Read'\n    }, {\n      key: 'wantToRead',\n      name: 'Want To Read'\n    }, {\n      key: 'read',\n      name: 'Read'\n    }];\n    _this.state = {\n      books: []\n    };\n\n    _this.shelfChanged = function (book, newShelf) {\n      console.log(\"haha\");\n      BooksAPI.update(book, newShelf);\n      book.shelf = newShelf;\n\n      var books = _this.state.books.filter(function (b) {\n        return b.id !== book.id;\n      }).concat(book);\n\n      _this.setState({\n        books: books\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var books;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return BooksAPI.getAll();\n\n              case 2:\n                books = _context.sent;\n                this.setState({\n                  books: books\n                });\n                console.log(books);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/search\",\n        render: function render() {\n          return React.createElement(Search, {\n            onClosed: _this2.closeSearch,\n            books: _this2.state.books,\n            onChangeShelf: _this2.shelfChanged,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(\"div\", {\n            className: \"list-books\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"list-books-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          }, \"MyReads\")), React.createElement(\"div\", {\n            className: \"list-books-content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, _this2.shelfs.map(function (shelf) {\n            return React.createElement(BookShelf, {\n              key1: shelf.key,\n              name: shelf.name,\n              books: _this2.state.books,\n              onChangeShelf: _this2.shelfChanged,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 47\n              },\n              __self: this\n            });\n          })), React.createElement(\"div\", {\n            className: \"open-search\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/search\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, \" \", React.createElement(\"button\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, \" toAdd a book \"), \" \"))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp;","map":{"version":3,"sources":["/home/shimaa/My-Reads/src/App.js"],"names":["React","BooksAPI","BookShelf","Search","Link","Route","BooksApp","shelfs","key","name","state","books","shelfChanged","book","newShelf","console","log","update","shelf","filter","b","id","concat","setState","getAll","closeSearch","map","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n import * as BooksAPI from './BooksAPI'\nimport './App.css'\nimport BookShelf from\"./BookShelf\"\nimport Search from './Search.js'\nimport {Link} from 'react-router-dom'\nimport {Route} from 'react-router-dom'\nclass BooksApp extends React.Component {\n  shelfs =[{key: 'currentlyReading',name:'Currently Read'},\n    {key:'wantToRead',name:'Want To Read'},\n    {key:'read',name:'Read'}]\n  state = {\n    books: []\n  };\n \n  async componentDidMount(){\n    const books = await BooksAPI.getAll();\n    this.setState({books});\n    console.log(books);\n  };\n  \n  shelfChanged =(book,newShelf)=>{\n    console.log(\"haha\")\n   BooksAPI.update(book,newShelf);\n    book.shelf = newShelf;\n    const books = this.state.books.filter((b)=>b.id!==book.id).concat(book);\n    this.setState({books})\n  }\n  \n\n  render() {\n    \n    return (\n      <div className=\"app\">\n        <Route exact path ='/search' render = { ()=>{\n          return(<Search onClosed =  {this.closeSearch} books= {this.state.books} onChangeShelf = {this.shelfChanged}/>)\n        }} ></Route>\n        \n        <Route exact path = '/' render ={()=>{  return (<div className=\"list-books\">\n            <div className=\"list-books-title\">\n              <h1>MyReads</h1>\n            </div>\n\n            <div className=\"list-books-content\">\n              <div>\n               {this.shelfs.map((shelf)=>(\n                 <BookShelf key1={shelf.key} name ={shelf.name} books ={this.state.books} onChangeShelf={this.shelfChanged} />\n               ))}\n               \n              \n            </div>\n            <div className=\"open-search\">\n              <Link  to= \"/search\"> <button > toAdd a book </button> </Link>\n            </div>\n          </div>\n              </div>)}} ></Route>\n       \n        \n        \n    \n               </div>)\n    \n  }}\n\n\nexport default BooksApp;\n"]},"metadata":{},"sourceType":"module"}