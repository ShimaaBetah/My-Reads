{"ast":null,"code":"import _regeneratorRuntime from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shimaa/My-Reads/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shimaa/My-Reads/src/App.js\";\nimport React from 'react';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport BookShelf from \"./BookShelf\";\nimport Search from './Search.js';\nimport { Link } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\n\nvar BooksApp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  function BooksApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BooksApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.shelfs = [{\n      key: 'currentlyReading',\n      name: 'Currently Read'\n    }, {\n      key: 'wantToRead',\n      name: 'Want To Read'\n    }, {\n      key: 'read',\n      name: 'Read'\n    }];\n    _this.state = {\n      /**\n      * TODO: Instead of using this state variable to keep track of which page\n      * we're on, use the URL in the browser's address bar. This will ensure that\n      * users can use the browser's back and forward buttons to navigate between\n      * pages, as well as provide a good URL they can bookmark and share.\n      */\n      books: [],\n      showSearchPage: false\n    };\n\n    _this.closeSearch = function () {\n      return _this.setState({\n        showSearchPage: false\n      });\n    };\n\n    _this.shelfChanged = function (book, newShelf) {\n      console.log(\"haha\");\n      BooksAPI.update(book, newShelf);\n      book.shelf = newShelf;\n\n      var books = _this.state.books.filter(function (b) {\n        return b.id !== book.id;\n      }).concat(book);\n\n      _this.setState({\n        books: books\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var books;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return BooksAPI.getAll();\n\n              case 2:\n                books = _context.sent;\n                this.setState({\n                  books: books\n                });\n                console.log(books);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/search\",\n        component: React.createElement(Search, {\n          onClosed: this.closeSearch,\n          books: this.state.books,\n          onChangeShelf: this.shelfChanged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          React.createElement(\"div\", {\n            className: \"list-books\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"list-books-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, \"MyReads\")), React.createElement(\"div\", {\n            className: \"list-books-content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, _this2.shelfs.map(function (shelf) {\n            return React.createElement(BookShelf, {\n              key1: shelf.key,\n              name: shelf.name,\n              books: _this2.state.books,\n              onChangeShelf: _this2.shelfChanged,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 54\n              },\n              __self: this\n            });\n          })), React.createElement(\"div\", {\n            className: \"open-search\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/search\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, \" \", React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this2.setState({\n                showSearchPage: true\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, \" toAdd a book \"), \" \"))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp;","map":{"version":3,"sources":["/home/shimaa/My-Reads/src/App.js"],"names":["React","BooksAPI","BookShelf","Search","Link","Route","BooksApp","shelfs","key","name","state","books","showSearchPage","closeSearch","setState","shelfChanged","book","newShelf","console","log","update","shelf","filter","b","id","concat","getAll","map","Component"],"mappings":"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","sourcesContent":["import React from 'react'\n import * as BooksAPI from './BooksAPI'\nimport './App.css'\nimport BookShelf from\"./BookShelf\"\nimport Search from './Search.js'\nimport {Link} from 'react-router-dom'\nimport {Route} from 'react-router-dom'\nclass BooksApp extends React.Component {\n  shelfs =[{key: 'currentlyReading',name:'Currently Read'},\n    {key:'wantToRead',name:'Want To Read'},\n    {key:'read',name:'Read'}]\n  state = {\n   \n       /**\n     * TODO: Instead of using this state variable to keep track of which page\n     * we're on, use the URL in the browser's address bar. This will ensure that\n     * users can use the browser's back and forward buttons to navigate between\n     * pages, as well as provide a good URL they can bookmark and share.\n     */\n    books: [],\n    showSearchPage: false\n  };\n \n  async componentDidMount(){\n    const books = await BooksAPI.getAll();\n    this.setState({books});\n    console.log(books);\n  };\n  \n  closeSearch = ()=>this.setState({ showSearchPage: false });\n  shelfChanged =(book,newShelf)=>{\n    console.log(\"haha\")\n   BooksAPI.update(book,newShelf);\n    book.shelf = newShelf;\n    const books = this.state.books.filter((b)=>b.id!==book.id).concat(book);\n    this.setState({books})\n  }\n  \n\n  render() {\n    \n    return (\n      <div className=\"app\">\n        <Route exact path ='/search' component = {<Search onClosed =  {this.closeSearch} books= {this.state.books} onChangeShelf = {this.shelfChanged}/>} ></Route>\n        \n        <Route exact path = '/' render ={()=>{  <div className=\"list-books\">\n            <div className=\"list-books-title\">\n              <h1>MyReads</h1>\n            </div>\n\n            <div className=\"list-books-content\">\n              <div>\n               {this.shelfs.map((shelf)=>(\n                 <BookShelf key1={shelf.key} name ={shelf.name} books ={this.state.books} onChangeShelf={this.shelfChanged} />\n               ))}\n               \n              \n            </div>\n            <div className=\"open-search\">\n              <Link  to= \"/search\"> <button onClick={() => this.setState({ showSearchPage: true })}> toAdd a book </button> </Link>\n            </div>\n          </div>\n              </div>}} ></Route>\n       \n        \n        \n    \n               </div>)\n    \n  }}\n\n\nexport default BooksApp;\n"]},"metadata":{},"sourceType":"module"}